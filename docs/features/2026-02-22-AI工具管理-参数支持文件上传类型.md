# AI 工具管理 - 参数支持文件上传类型

日期：2026-02-22

## 背景

AI 工具管理页面中，upload 接口需要通过 FormData 上传文件（如图片），但 `ParamField` 的 `type` 仅支持 `string | number | boolean | select`，缺少 `file` 类型，无法正确描述文件上传参数。

## 改动内容

### 1. 类型定义扩展

`client/src/types/index.ts` — `ParamField.type` 新增 `'file'` 联合值：

```ts
type: 'string' | 'number' | 'boolean' | 'select' | 'file';
```

### 2. AI 工具管理页面

`client/src/pages/system/AiToolManagement.tsx`：

- `PARAM_TYPES` 常量新增 `{ value: 'file', label: '文件上传' }`
- upload 预设端点默认带一个 `file` 类型参数（key: `file`, label: `图片文件`）
- 参数列表展示：`file` 类型显示 "FormData 文件字段" 标签
- 参数编辑弹窗：`file` 类型显示 "文件类型无默认值，运行时选择" 提示

## 后续

实际调用 upload 接口时，业务层需根据 `type === 'file'` 判断使用 `FormData` 而非 JSON body 发送请求。
